---
phase: 04-resume-and-visibility
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - get-shit-done/workflows/transition.md
  - /home/junbeom/.claude/get-shit-done/workflows/transition.md
autonomous: true
requirements: [STATE-04]

must_haves:
  truths:
    - "Each phase transition in YOLO mode displays a progress banner showing completed phase count and total phase count"
    - "The progress banner appears after phase complete and before plan-phase invocation"
    - "On milestone completion in YOLO mode, a summary table shows each phase name and plan count"
    - "The completion summary uses roadmap analyze phases array data (no individual SUMMARY.md reads)"
  artifacts:
    - path: "get-shit-done/workflows/transition.md"
      provides: "Route A yolo progress banner and Route B yolo enriched completion summary"
      contains: "YOLO MODE ACTIVE"
    - path: "/home/junbeom/.claude/get-shit-done/workflows/transition.md"
      provides: "Installed copy with progress banner and enriched completion summary (absolute paths)"
      contains: "YOLO MODE ACTIVE"
  key_links:
    - from: "transition.md Route A yolo block"
      to: "roadmap analyze"
      via: "completed_phases and phase_count for progress banner"
      pattern: "roadmap analyze.*completed_phases"
    - from: "transition.md Route B yolo block"
      to: "roadmap analyze"
      via: "phases array for summary table"
      pattern: "roadmap analyze.*phases"
---

<objective>
Add phase-progress visibility to transition.md: a "YOLO MODE ACTIVE — Phase N of M" banner at each phase transition (Route A yolo), and an enriched YOLO COMPLETE banner with a phase summary table at milestone completion (Route B yolo).

Purpose: Satisfies SC-2 (progress banner at each transition) and SC-3 (milestone completion summary showing which phases ran and what was accomplished). Together with Plan 01, this completes all three Phase 4 success criteria.

Output: Updated transition.md (source + installed) with progress banner in Route A and enriched completion banner in Route B.
</objective>

<execution_context>
@/home/junbeom/.claude/get-shit-done/workflows/execute-plan.md
@/home/junbeom/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-resume-and-visibility/04-RESEARCH.md

Key context from research:
- transition.md Route A yolo currently shows minimal "Phase [X] marked complete" + "Auto-continuing" text before invoking plan-phase
- transition.md Route B yolo currently shows "All {N} phases complete. Milestone done." banner
- `roadmap analyze` returns: { phases: [{number, name, plan_count, ...}], completed_phases, phase_count }
- `phase complete` returns: { completed_phase, plans_executed, next_phase, next_phase_name, is_last_phase }
- CRITICAL: call `roadmap analyze` AFTER `phase complete` so completed_phases reflects the just-completed phase (Pitfall 3 from research)
- Source copy uses ~/.claude paths; installed copy uses /home/junbeom/.claude paths
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add progress banner to transition.md Route A yolo and enriched summary to Route B yolo</name>
  <files>
    get-shit-done/workflows/transition.md
    /home/junbeom/.claude/get-shit-done/workflows/transition.md
  </files>
  <action>
**Route A yolo block change (progress banner):**

In the `offer_next_phase` step, find the `<if mode="yolo">` block under Route A. Currently it shows:

```
Phase [X] marked complete.

Next: Phase [X+1] — [Name]

⚡ Auto-continuing: Plan Phase [X+1]
```

Then invokes SlashCommand("/gsd:plan-phase [X+1] --auto").

Replace the display section (keep the SlashCommand invocation unchanged) with:

1. Call `roadmap analyze` AFTER `phase complete` has already run (it runs in the `update_roadmap_and_state` step above):

```bash
PROGRESS=$(node ~/.claude/get-shit-done/bin/gsd-tools.cjs roadmap analyze 2>/dev/null)
COMPLETED_NOW=$(echo "$PROGRESS" | jq -r '.completed_phases')
TOTAL_PHASES=$(echo "$PROGRESS" | jq -r '.phase_count')
```

2. Display progress banner:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 GSD ► YOLO MODE ACTIVE — Phase {COMPLETED_NOW} of {TOTAL_PHASES}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Phase {completed_phase} complete. Advancing to Phase {next_phase}: {next_phase_name}
```

Where `completed_phase`, `next_phase`, `next_phase_name` come from the `TRANSITION` result already available from the `update_roadmap_and_state` step.

3. Keep the existing SlashCommand("/gsd:plan-phase [X+1] --auto") invocation after the banner.

**Route B yolo block change (enriched completion summary):**

In the `offer_next_phase` step, find the `<if mode="yolo">` block under Route B. Currently it shows:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 GSD ► YOLO COMPLETE
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

All {N} phases complete. Milestone done.
```

Enrich this by adding a phase summary table. The data comes from `roadmap analyze`:

```bash
SUMMARY=$(node ~/.claude/get-shit-done/bin/gsd-tools.cjs roadmap analyze 2>/dev/null)
```

Extract the `phases` array and build a markdown table:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 GSD ► YOLO COMPLETE
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

All {N} phases complete. Milestone done.

| Phase | Name | Plans |
|-------|------|-------|
{for each phase in phases array: | {number} | {name} | {plan_count} plan(s) |}
```

Where `{N}` is `phase_count` from roadmap analyze, and each row comes from the `phases` array entries (fields: `number`, `name`, `plan_count`).

Keep the existing `yolo-state clear` and `config-set workflow.auto_advance false` commands exactly as-is. Keep the "Stop. Return to user. Do NOT invoke complete-milestone" instruction.

**Apply changes to both copies:**
- Source: `get-shit-done/workflows/transition.md` (uses `~/.claude/` paths)
- Installed: `/home/junbeom/.claude/get-shit-done/workflows/transition.md` (uses `/home/junbeom/.claude/` paths)

**Do NOT change any other part of transition.md.** All interactive mode blocks, Route A non-yolo, Route B non-yolo, and all steps before `offer_next_phase` remain exactly as they are.
  </action>
  <verify>
1. Read both copies of transition.md and confirm:
   - Route A yolo block now calls `roadmap analyze` and displays "YOLO MODE ACTIVE — Phase N of M" progress banner
   - Route A yolo block still invokes SlashCommand("/gsd:plan-phase [X+1] --auto") after the banner
   - Route B yolo block now includes a phase summary table with Phase/Name/Plans columns
   - Route B yolo block still runs `yolo-state clear` and `config-set workflow.auto_advance false`
   - Route B yolo block still says "Stop. Return to user. Do NOT invoke complete-milestone"
2. Verify `roadmap analyze` is called AFTER `phase complete` (it is — `phase complete` runs in `update_roadmap_and_state` step which precedes `offer_next_phase`)
3. Verify source copy uses `~/.claude/` paths
4. Verify installed copy uses `/home/junbeom/.claude/` paths
5. Verify interactive mode blocks are unchanged
  </verify>
  <done>
transition.md Route A yolo shows "YOLO MODE ACTIVE — Phase N of M" progress banner at each phase transition. transition.md Route B yolo shows enriched YOLO COMPLETE banner with phase summary table. Both source and installed copies are updated.
  </done>
</task>

</tasks>

<verification>
- [ ] Route A yolo progress banner shows completed_phases of phase_count after each transition
- [ ] Progress data comes from roadmap analyze called after phase complete
- [ ] Route B yolo completion banner includes phase summary table
- [ ] Summary table shows phase number, name, and plan count for each phase
- [ ] Summary data comes from roadmap analyze phases array (no SUMMARY.md reads)
- [ ] All existing transition.md behavior is preserved (interactive mode, Route A non-yolo, Route B non-yolo)
- [ ] Source and installed copies are in sync (path differences only)
</verification>

<success_criteria>
- Each YOLO phase transition displays "YOLO MODE ACTIVE — Phase N of M" banner (SC-2)
- YOLO milestone completion displays a phase summary table showing which phases ran and plan counts (SC-3)
- No regression to existing transition.md behavior for interactive/custom modes
</success_criteria>

<output>
After completion, create `.planning/phases/04-resume-and-visibility/04-02-SUMMARY.md`
</output>
