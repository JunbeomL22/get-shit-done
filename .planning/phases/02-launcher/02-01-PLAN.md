---
phase: 02-launcher
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - ~/.claude/get-shit-done/workflows/yolo.md
  - commands/gsd/yolo.md
autonomous: true
requirements: [CHAIN-01, CHAIN-03]

must_haves:
  truths:
    - "Typing /gsd:yolo with no arguments starts the YOLO run without additional prompts"
    - "The command checks prerequisites (roadmap exists, current phase is valid, no stale YOLO state) before any state mutation"
    - "The command sets mode: yolo, workflow.auto_advance: true, and writes the yolo stanza in that exact order before invoking plan-phase"
    - "plan-phase is invoked with --auto flag to activate the auto-advance chain"
    - "Workflow agent settings (research, plan_check, verifier) are read for display only and never overridden"
  artifacts:
    - path: "~/.claude/get-shit-done/workflows/yolo.md"
      provides: "YOLO workflow logic: prerequisite checks, state setup, plan-phase launch"
      min_lines: 80
    - path: "commands/gsd/yolo.md"
      provides: "Slash command entry point for /gsd:yolo"
      min_lines: 20
  key_links:
    - from: "commands/gsd/yolo.md"
      to: "~/.claude/get-shit-done/workflows/yolo.md"
      via: "@-reference in execution_context"
      pattern: "@~/.claude/get-shit-done/workflows/yolo.md"
    - from: "workflows/yolo.md"
      to: "gsd-tools.cjs"
      via: "CLI calls for roadmap analyze, yolo-state read/write, config-set/config-get"
      pattern: "gsd-tools\\.cjs (roadmap analyze|yolo-state|config-set|config-get)"
    - from: "workflows/yolo.md"
      to: "/gsd:plan-phase"
      via: "Task() spawn with --auto flag"
      pattern: "plan-phase.*--auto"
---

<objective>
Create the `/gsd:yolo` command and workflow that validates prerequisites, writes YOLO state, and launches the auto-advance chain.

Purpose: Give users a single zero-argument command that runs all remaining phases to completion automatically. This is the entry point for hands-free milestone execution.
Output: Two files — `commands/gsd/yolo.md` (slash command) and `~/.claude/get-shit-done/workflows/yolo.md` (workflow logic)
</objective>

<execution_context>
@/home/junbeom/.claude/get-shit-done/workflows/execute-plan.md
@/home/junbeom/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-launcher/02-RESEARCH.md
@.planning/phases/01-state-infrastructure/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create YOLO workflow file</name>
  <files>~/.claude/get-shit-done/workflows/yolo.md</files>
  <action>
Create `~/.claude/get-shit-done/workflows/yolo.md` containing the full YOLO workflow logic. The workflow has three sequential phases:

**Phase A: Prerequisite Checks (fail-fast, no state mutation)**

1. **Structural check** — Verify `.planning/` and ROADMAP.md exist:
   ```bash
   INIT=$(node /home/junbeom/.claude/get-shit-done/bin/gsd-tools.cjs init phase-op "1" 2>/dev/null)
   PLANNING_EXISTS=$(echo "$INIT" | jq -r '.planning_exists')
   ROADMAP_EXISTS=$(echo "$INIT" | jq -r '.roadmap_exists')
   ```
   If either is false, display an error box (use ui-brand.md error pattern) saying "No project found. Run /gsd:new-project first." and stop.

2. **Positional check** — Find next incomplete phase:
   ```bash
   ANALYZE=$(node /home/junbeom/.claude/get-shit-done/bin/gsd-tools.cjs roadmap analyze 2>/dev/null)
   NEXT_PHASE=$(echo "$ANALYZE" | jq -r '.next_phase // empty')
   TOTAL=$(echo "$ANALYZE" | jq -r '.phase_count')
   COMPLETED=$(echo "$ANALYZE" | jq -r '.completed_phases')
   ```
   If `NEXT_PHASE` is empty, display a success box saying "All {TOTAL} phases complete! Milestone is done." and stop. Do NOT invoke complete-milestone automatically (that's Phase 4 scope).

3. **Stale state check** — Detect leftover YOLO state from a prior run:
   ```bash
   YOLO_JSON=$(node /home/junbeom/.claude/get-shit-done/bin/gsd-tools.cjs yolo-state read --raw 2>/dev/null || echo '{}')
   YOLO_ACTIVE=$(echo "$YOLO_JSON" | jq -r '.active // false')
   YOLO_START=$(echo "$YOLO_JSON" | jq -r '.start_phase // "?"')
   YOLO_TS=$(echo "$YOLO_JSON" | jq -r '.timestamp // ""')
   ```
   If `YOLO_ACTIVE` is "true", use AskUserQuestion to prompt: "A prior YOLO run exists from phase {YOLO_START} (started {YOLO_TS}). What would you like to do?" with two options:
   - "Clear and start fresh" — run `gsd-tools yolo-state clear` then proceed
   - "Abort" — stop workflow

**Phase B: State Setup (three ordered writes)**

Display a "YOLO MODE" banner (use ui-brand.md patterns). Include:
- Next phase number and name
- Total phases remaining ({TOTAL} - {COMPLETED})
- Current workflow agent settings (read-only display, per CHAIN-03):
  ```bash
  RESEARCH=$(node /home/junbeom/.claude/get-shit-done/bin/gsd-tools.cjs config-get workflow.research --raw 2>/dev/null || echo "true")
  PLAN_CHECK=$(node /home/junbeom/.claude/get-shit-done/bin/gsd-tools.cjs config-get workflow.plan_check --raw 2>/dev/null || echo "true")
  VERIFIER=$(node /home/junbeom/.claude/get-shit-done/bin/gsd-tools.cjs config-get workflow.verifier --raw 2>/dev/null || echo "true")
  ```
  Display these as "Research: {enabled/disabled}, Plan check: {enabled/disabled}, Verifier: {enabled/disabled}" — read only, never config-set them.

Execute state writes in this exact order (order matters per research — yolo stanza is the point-of-no-return sentinel):
1. `node gsd-tools.cjs config-set mode "yolo"` (idempotent — may already be set)
2. `node gsd-tools.cjs config-set workflow.auto_advance true` (enables auto-chain in plan-phase and execute-phase)
3. `node gsd-tools.cjs yolo-state write --start-phase ${NEXT_PHASE}` (atomic stanza creation with read-after-write verification)

If any write fails, display error and stop. Do NOT proceed to launch with partial state.

**Phase C: Launch**

Invoke plan-phase as a Task with `--auto` flag:
```
Task(
  prompt="Run /gsd:plan-phase ${NEXT_PHASE} --auto",
  subagent_type="general-purpose",
  description="Plan Phase ${NEXT_PHASE}"
)
```

Handle return:
- If plan-phase returns `## PLANNING COMPLETE` or execution succeeds — the chain handles itself from there (plan-phase auto-advances to execute-phase, execute-phase auto-advances via transition.md). Display summary.
- If plan-phase returns `## PLANNING INCONCLUSIVE` or any failure — display the failure, show the command to resume, and stop. Do NOT auto-retry (per project decision).

**Important constraints:**
- Do NOT use `config-set` on `workflow.research`, `workflow.plan_check`, or `workflow.verifier` — YOLO reads these for display only (CHAIN-03)
- Do NOT implement cleanup of `workflow.auto_advance` or `workflow.yolo` stanza — that is Phase 3 scope (Pitfall 2 in research)
- Do NOT implement resume logic — that is Phase 4 scope (STATE-04)
- Use the `<required_reading>` pattern to reference ui-brand.md
- Use `<process>` with numbered steps matching the three phases above
- The workflow file should follow the same structural patterns as existing workflows (plan-phase.md, execute-phase.md, transition.md)
  </action>
  <verify>
1. File exists at `~/.claude/get-shit-done/workflows/yolo.md`
2. File contains `<process>` block with prerequisite checks, state setup, and launch steps
3. File references `gsd-tools.cjs roadmap analyze` for next phase detection
4. File references `gsd-tools.cjs yolo-state read` for stale state check
5. File references `gsd-tools.cjs yolo-state write --start-phase` for stanza creation
6. File references `config-set mode "yolo"` and `config-set workflow.auto_advance true`
7. File contains Task() spawn of plan-phase with --auto
8. File does NOT contain `config-set workflow.research`, `config-set workflow.plan_check`, or `config-set workflow.verifier`
9. grep for "config-get workflow.research" confirms read-only display usage
  </verify>
  <done>
The yolo.md workflow file exists with three sequential phases (prerequisite checks, state setup, launch). It reads workflow agents for display without overriding them. It writes state in the correct order (mode -> auto_advance -> yolo stanza). It spawns plan-phase with --auto. It handles stale state by prompting the user.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create YOLO slash command entry point</name>
  <files>commands/gsd/yolo.md</files>
  <action>
Create `commands/gsd/yolo.md` as the minimal slash command file that delegates to the workflow. Follow the exact pattern of existing commands (plan-phase.md, execute-phase.md, quick.md).

**Frontmatter:**
```yaml
---
name: gsd:yolo
description: Run all remaining phases automatically without manual intervention
argument-hint: ""
allowed-tools:
  - Read
  - Write
  - Bash
  - Task
  - AskUserQuestion
---
```

Notes on frontmatter:
- `argument-hint` is empty string — YOLO takes no arguments (CHAIN-01: "no args")
- `allowed-tools` includes Task (for spawning plan-phase), AskUserQuestion (for stale state prompt), Read/Write/Bash (standard tools for state operations)
- No `agent` field — YOLO does not use a specialized agent (unlike plan-phase which uses gsd-planner)

**Body structure:**
- `<objective>`: "Run all remaining phases to completion automatically. One command, no prompts, stops only on failure." Brief description of what it does and why.
- `<execution_context>`: Reference `@~/.claude/get-shit-done/workflows/yolo.md` and `@~/.claude/get-shit-done/references/ui-brand.md`
- `<context>`: Reference `@.planning/STATE.md` and `@.planning/ROADMAP.md`
- `<process>`: Single line — "Execute the yolo workflow from @~/.claude/get-shit-done/workflows/yolo.md end-to-end."
  </action>
  <verify>
1. File exists at `commands/gsd/yolo.md`
2. Frontmatter has `name: gsd:yolo` and empty `argument-hint`
3. `<execution_context>` references the workflow file
4. `<context>` references STATE.md and ROADMAP.md
5. `<process>` delegates to the workflow
6. The command file is under 40 lines (it's a thin entry point, not logic)
  </verify>
  <done>
The `/gsd:yolo` command file exists and is a minimal entry point that delegates all logic to the workflow. It requires no arguments. Running `/gsd:yolo` in Claude Code will load the workflow and execute it.
  </done>
</task>

</tasks>

<verification>
1. Both files exist in their correct locations
2. `commands/gsd/yolo.md` has valid YAML frontmatter with `name: gsd:yolo`
3. `workflows/yolo.md` contains all three phases: prerequisite check, state setup, launch
4. No existing files are modified (two new files only)
5. Workflow agent settings (research, plan_check, verifier) are read with config-get but never written with config-set
6. State writes follow the correct order: mode -> auto_advance -> yolo stanza
7. plan-phase is invoked via Task() with --auto flag
</verification>

<success_criteria>
- `/gsd:yolo` command is registered and callable with no arguments
- Prerequisites are validated before any state mutation (roadmap exists, next phase valid, no stale state)
- YOLO state (mode, auto_advance, yolo stanza) is written in correct order
- plan-phase is spawned with --auto to activate the auto-advance chain
- Workflow agents are displayed but never overridden
- Stale state from prior runs prompts user for resolution
</success_criteria>

<output>
After completion, create `.planning/phases/02-launcher/02-01-SUMMARY.md`
</output>
